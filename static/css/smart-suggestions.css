/**
 * =============================================================================
 * SMART SUGGESTIONS - CSS pour nudges et suggestions intelligentes
 * =============================================================================
 */

/* =============================================================================
   NUDGES - Styles de base
   ============================================================================= */

.nudge {
    border-left: 3px solid transparent;
    transition: all 0.2s ease;
}

.nudge:hover {
    transform: translateX(2px);
}

/* Types de nudges */
.nudge[data-nudge-type="info"] {
    border-left-color: var(--bs-primary);
}

.nudge[data-nudge-type="suggest"] {
    border-left-color: var(--bs-success);
}

.nudge[data-nudge-type="warning"] {
    border-left-color: var(--bs-warning);
}

.nudge[data-nudge-type="alert"] {
    border-left-color: var(--bs-danger);
}

.nudge[data-nudge-type="sparkle"] {
    border-left-color: #fbbf24;
    background: linear-gradient(135deg, rgba(251, 191, 36, 0.1) 0%, rgba(245, 158, 11, 0.05) 100%);
}

/* Icône sparkle animée */
.sparkle-icon {
    display: inline-block;
    animation: sparkle-rotate 3s ease-in-out infinite;
}

@keyframes sparkle-rotate {
    0%, 100% { transform: rotate(-5deg) scale(1); }
    50% { transform: rotate(5deg) scale(1.1); }
}

.sparkle-badge {
    font-size: 1rem;
    animation: sparkle-pulse 1.5s ease-in-out infinite;
}

@keyframes sparkle-pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.7; transform: scale(1.2); }
}

/* =============================================================================
   CUVES - Suggestions avec glow effect
   ============================================================================= */

.cuve-card {
    cursor: pointer;
    transition: all 0.2s ease;
    border: 2px solid transparent;
}

.cuve-card.glow-success {
    border-color: var(--bs-success);
    box-shadow: 0 0 15px rgba(25, 135, 84, 0.4);
    animation: glow-pulse 2s ease-in-out infinite alternate;
}

@keyframes glow-pulse {
    from { box-shadow: 0 0 10px rgba(25, 135, 84, 0.3); }
    to { box-shadow: 0 0 25px rgba(25, 135, 84, 0.5); }
}

.cuve-card.disabled {
    cursor: not-allowed;
    opacity: 0.5;
}

.cuve-card:not(.disabled):hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.cuve-card.selected {
    border-color: var(--bs-primary) !important;
    border-width: 2px;
    box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.25);
}

/* =============================================================================
   WEATHER WIDGET
   ============================================================================= */

.weather-widget {
    overflow: hidden;
}

.weather-widget .weather-day {
    min-width: 60px;
}

.weather-widget .weather-day i {
    transition: transform 0.3s ease;
}

.weather-widget .weather-day:hover i {
    transform: scale(1.2);
}

/* =============================================================================
   DRM REMINDER - Header notification
   ============================================================================= */

.drm-reminder {
    animation: drm-fade-in 0.3s ease;
}

@keyframes drm-fade-in {
    from { opacity: 0; transform: translateY(-5px); }
    to { opacity: 1; transform: translateY(0); }
}

.drm-reminder .btn-danger,
.drm-reminder .btn-warning {
    animation: drm-pulse 2s ease-in-out infinite;
}

@keyframes drm-pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.02); }
}

/* =============================================================================
   INTRANT SUGGESTIONS
   ============================================================================= */

.intrant-suggestion-btn {
    transition: all 0.2s ease;
    border-style: dashed;
}

.intrant-suggestion-btn:hover {
    border-style: solid;
    transform: translateY(-1px);
}

.intrant-suggestion-btn.btn-success {
    animation: intrant-selected 0.3s ease;
}

@keyframes intrant-selected {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

/* =============================================================================
   ANALYSE ALERTS - In-place action buttons
   ============================================================================= */

.analyse-alert-inline {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.8rem;
}

.analyse-alert-inline.alert-warning {
    background: rgba(255, 193, 7, 0.15);
    border: 1px solid rgba(255, 193, 7, 0.3);
}

.analyse-alert-inline.alert-danger {
    background: rgba(220, 53, 69, 0.15);
    border: 1px solid rgba(220, 53, 69, 0.3);
}

.analyse-alert-inline .btn {
    padding: 0.125rem 0.5rem;
    font-size: 0.7rem;
}

/* =============================================================================
   SMART BADGE - Indicateur de suggestion IA
   ============================================================================= */

.smart-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.125rem 0.375rem;
    font-size: 0.65rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    border-radius: 100px;
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
    color: #78350f;
}

.smart-badge::before {
    content: "✨";
    font-size: 0.7rem;
}

/* =============================================================================
   RESPONSIVE
   ============================================================================= */

@media (max-width: 991.98px) {
    .nudge {
        padding: 0.5rem !important;
    }
    
    .nudge-title {
        font-size: 0.8rem !important;
    }
    
    .nudge-message {
        font-size: 0.75rem !important;
    }
    
    .cuve-card {
        margin-bottom: 0.5rem;
    }
    
    .weather-widget .weather-day {
        min-width: 50px;
        padding: 0.25rem !important;
    }
}

/* =============================================================================
   PRINT - Cacher les suggestions
   ============================================================================= */

@media print {
    .nudge,
    .nudges-container,
    .weather-widget,
    .drm-reminder,
    .smart-badge,
    .intrant-suggestions {
        display: none !important;
    }
}
